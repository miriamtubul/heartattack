<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <title>×—×™×–×•×™ ×”×ª×§×£ ×œ×‘</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        h1 { color: #e74c3c; text-align: center; }
        h2 { color: #333; border-bottom: 2px solid #e74c3c; padding-bottom: 10px; }

        .metrics {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        .metric {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .metric .value { font-size: 2em; color: #27ae60; font-weight: bold; }
        .metric.highlight .value { color: #e74c3c; }

        .form-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
        }
        button {
            width: 100%;
            padding: 15px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1.2em;
            cursor: pointer;
            margin-top: 20px;
        }
        button:hover { background: #c0392b; }

        .result {
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
            display: none;
        }
        .result.high { background: #ffebee; border: 2px solid #e74c3c; }
        .result.low { background: #e8f5e9; border: 2px solid #27ae60; }
        .result h3 { margin: 0; font-size: 1.5em; }

        .importance {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .importance-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        .positive { color: #e74c3c; }
        .negative { color: #27ae60; }

        .metric-explain {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-right: 4px solid #3498db;
        }
        .metric-explain h3 { color: #2c3e50; margin-bottom: 10px; }
        .metric-explain p { margin: 5px 0; color: #555; }
    </style>
</head>
<body>
    <h1>â¤ï¸ ×—×™×–×•×™ ×¡×™×›×•×Ÿ ×œ×”×ª×§×£ ×œ×‘</h1>

    <!-- ××˜×¨×™×§×•×ª -->
    <h2>ğŸ“Š ×‘×™×¦×•×¢×™ ×”××•×“×œ</h2>
    <div class="metrics">
        <div class="metric">
            <div>Accuracy</div>
            <div class="value">90%</div>
        </div>
        <div class="metric">
            <div>Precision</div>
            <div class="value">88%</div>
        </div>
        <div class="metric highlight">
            <div>Recall â­</div>
            <div class="value">94%</div>
        </div>
        <div class="metric">
            <div>F1</div>
            <div class="value">91%</div>
        </div>
    </div>

    <!-- ×˜×•×¤×¡ ×—×™×–×•×™ -->
    <h2>ğŸ”® ×”×›× ×¡ × ×ª×•× ×™× ×œ×—×™×–×•×™</h2>
    <div class="form-section">
        <div class="form-grid">
            <div>
                <label>×’×™×œ</label>
                <input type="number" id="age" value="50">
            </div>
            <div>
                <label>××™×Ÿ</label>
                <select id="sex">
                    <option value="1">×–×›×¨</option>
                    <option value="0">× ×§×‘×”</option>
                </select>
            </div>
            <div>
                <label>×¡×•×’ ×›××‘ ×‘×—×–×”</label>
                <select id="cp">
                    <option value="0">×œ×œ× ×ª×¡××™× ×™×</option>
                    <option value="1">×× ×’×™× ×” ×˜×™×¤×•×¡×™×ª</option>
                    <option value="2">×× ×’×™× ×” ×œ× ×˜×™×¤×•×¡×™×ª</option>
                    <option value="3">×›××‘ ×œ× ×œ×‘×‘×™</option>
                </select>
            </div>
            <div>
                <label>×œ×—×¥ ×“× ×‘×× ×•×—×”</label>
                <input type="number" id="trtbps" value="120">
            </div>
            <div>
                <label>×›×•×œ×¡×˜×¨×•×œ</label>
                <input type="number" id="chol" value="200">
            </div>
            <div>
                <label>×“×•×¤×§ ××§×¡×™××œ×™</label>
                <input type="number" id="thalachh" value="150">
            </div>
            <div>
                <label>×× ×’×™× ×” ×‘××××¥</label>
                <select id="exng">
                    <option value="0">×œ×</option>
                    <option value="1">×›×Ÿ</option>
                </select>
            </div>
            <div>
                <label>××¡×¤×¨ ×›×œ×™ ×“×</label>
                <select id="ca">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                </select>
            </div>
        </div>
        <button onclick="predict()">ğŸ”® ×‘×¦×¢ ×—×™×–×•×™</button>

        <div id="result" class="result">
            <h3 id="resultText"></h3>
            <p id="resultProb"></p>
        </div>
    </div>

    <!-- ×”×¡×‘×¨ ××˜×¨×™×§×•×ª -->
    <h2>ğŸ“– ××” ×›×œ ××˜×¨×™×§×” ××•××¨×ª?</h2>
    <div class="form-section">
        <div class="metric-explain">
            <h3>Accuracy (×“×™×•×§) = 90%</h3>
            <p><strong>×©××œ×”:</strong> ××ª×•×š ×›×œ ×”××˜×•×¤×œ×™×, ×›××” ×¡×™×•×•×’× ×• × ×›×•×Ÿ?</p>
            <p><strong>×—×™×©×•×‘:</strong> (TP + TN) / ×¡×”"×› = (30 + 24) / 60 = 90%</p>
            <p>âœ… ×¡×™×•×•×’× ×• × ×›×•×Ÿ 54 ××ª×•×š 60 ××˜×•×¤×œ×™×</p>
        </div>

        <div class="metric-explain">
            <h3>Precision (×“×™×•×§ ×—×™×•×‘×™) = 88%</h3>
            <p><strong>×©××œ×”:</strong> ××ª×•×š ××™ ×©×—×–×™× ×• ×›"×—×•×œ×”", ×›××” ×‘×××ª ×—×•×œ×™×?</p>
            <p><strong>×—×™×©×•×‘:</strong> TP / (TP + FP) = 30 / (30 + 4) = 88%</p>
            <p>âœ… ××ª×•×š 34 ×©×–×™×”×™× ×• ×›×—×•×œ×™×, 30 ×‘×××ª ×—×•×œ×™×</p>
        </div>

        <div class="metric-explain" style="background: #ffebee;">
            <h3>â­ Recall (×¨×’×™×©×•×ª) = 94%</h3>
            <p><strong>×©××œ×”:</strong> ××ª×•×š ×›×œ ×”×—×•×œ×™× ×”×××™×ª×™×™×, ×›××” ×”×¦×œ×—× ×• ×œ×–×”×•×ª?</p>
            <p><strong>×—×™×©×•×‘:</strong> TP / (TP + FN) = 30 / (30 + 2) = 94%</p>
            <p>âœ… ××ª×•×š 32 ×—×•×œ×™× ×××™×ª×™×™×, ×–×™×”×™× ×• 30 (×¤×¡×¤×¡× ×• ×¨×§ 2!)</p>
            <p><strong>ğŸ¥ ×œ××” ×”×›×™ ×—×©×•×‘ ×‘×¨×¤×•××”?</strong> ×›×™ ×œ×¤×¡×¤×¡ ×—×•×œ×” ×××™×ª×™ = ×¡×›× ×ª ×—×™×™×!</p>
        </div>

        <div class="metric-explain">
            <h3>F1-Score = 91%</h3>
            <p><strong>×©××œ×”:</strong> ××” ×”××™×–×•×Ÿ ×‘×™×Ÿ Precision ×œ-Recall?</p>
            <p><strong>×—×™×©×•×‘:</strong> 2 Ã— (Precision Ã— Recall) / (Precision + Recall)</p>
            <p>âœ… ×××•×¦×¢ ×”×¨××•× ×™ - ×©×™××•×©×™ ×›×©×¨×•×¦×™× ×œ××–×Ÿ ×‘×™×Ÿ ×”×©× ×™×™×</p>
        </div>
    </div>

    <!-- ×—×©×™×‘×•×ª ××©×ª× ×™× -->
    <h2>ğŸ“ˆ ×”××©×ª× ×™× ×©×”×›×™ ××©×¤×™×¢×™×</h2>
    <div class="importance">
        <h3 class="positive">ğŸ”´ ××’×“×™×œ×™× ×¡×™×›×•×Ÿ:</h3>
        <div class="importance-item"><span>××™×Ÿ (×–×›×¨)</span><span class="positive">+0.87</span></div>
        <div class="importance-item"><span>××¡×¤×¨ ×›×œ×™ ×“×</span><span class="positive">+0.72</span></div>
        <div class="importance-item"><span>×× ×’×™× ×” ×‘××××¥</span><span class="positive">+0.58</span></div>

        <h3 class="negative" style="margin-top: 20px;">ğŸŸ¢ ××§×˜×™× ×™× ×¡×™×›×•×Ÿ:</h3>
        <div class="importance-item"><span>×›××‘ ×œ× ×œ×‘×‘×™</span><span class="negative">-1.12</span></div>
        <div class="importance-item"><span>×“×•×¤×§ ××§×¡×™××œ×™ ×’×‘×•×”</span><span class="negative">-0.62</span></div>
    </div>

    <script>
        function predict() {
            const age = +document.getElementById('age').value;
            const sex = +document.getElementById('sex').value;
            const cp = +document.getElementById('cp').value;
            const trtbps = +document.getElementById('trtbps').value;
            const chol = +document.getElementById('chol').value;
            const thalachh = +document.getElementById('thalachh').value;
            const exng = +document.getElementById('exng').value;
            const ca = +document.getElementById('ca').value;

            // ×—×™×©×•×‘ ×¤×©×•×˜
            let z = -2.5;
            z += 0.035 * age;
            z += 0.87 * sex;
            z += 0.012 * trtbps;
            z += 0.008 * chol;
            z += -0.032 * thalachh;
            z += 0.58 * exng;
            z += 0.72 * ca;
            z += (cp === 1 ? -0.51 : 0) + (cp === 2 ? -0.94 : 0) + (cp === 3 ? -1.12 : 0);

            const prob = 1 / (1 + Math.exp(-z));
            const result = document.getElementById('result');
            const text = document.getElementById('resultText');
            const probText = document.getElementById('resultProb');

            result.style.display = 'block';

            if (prob >= 0.5) {
                result.className = 'result high';
                text.textContent = 'âš ï¸ ×¡×™×›×•×Ÿ ×’×‘×•×” ×œ×”×ª×§×£ ×œ×‘';
            } else {
                result.className = 'result low';
                text.textContent = 'âœ… ×¡×™×›×•×Ÿ × ××•×š ×œ×”×ª×§×£ ×œ×‘';
            }
            probText.textContent = '×¡×™×›×•×™ ×œ×”×ª×§×£ ×œ×‘: ' + (prob * 100).toFixed(0) + '%';
        }
    </script>
</body>
</html>
